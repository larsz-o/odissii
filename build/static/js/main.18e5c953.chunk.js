(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{245:function(e,t,a){},247:function(e,t,a){},5521:function(e,t,a){e.exports=a(5864)},5825:function(e,t,a){},5833:function(e,t,a){},5853:function(e,t,a){},5857:function(e,t,a){},5860:function(e,t,a){},5864:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),s=a.n(o),l=a(38),c=a(11),i=a(254),u=(a(5529),a(32)),p=a(24),d={FETCH_USER:"FETCH_USER",SET_USER:"SET_USER_ACTION",UNSET_USER:"UNSET_USER_ACTION",REQUEST_START:"REQUEST_START_USER_ACTION",REQUEST_DONE:"REQUEST_DONE_USER_ACTION",LOGOUT:"LOGOUT",USER_FETCH_FAILED:"USER_FETCH_FAILED"},m=Object(l.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_USER:return t.user.id||e;case d.UNSET_USER:return null;default:return e}},userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_USER:return t.user.username||e;case d.UNSET_USER:return null;default:return e}},employeeId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_USER:return t.user.employeeId||e;case d.UNSET_USER:return null;default:return e}},first_name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_USER:return t.user.first_name||e;case d.UNSET_USER:return null;default:return e}},last_name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_USER:return t.user.last_name||e;case d.UNSET_USER:return null;default:return e}},email_address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_USER:return t.user.email_address||e;case d.UNSET_USER:return null;default:return e}},role:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_USER:return t.user.role||e;case d.UNSET_USER:return null;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case d.REQUEST_START:return!0;case d.REQUEST_DONE:return!1;default:return e}}}),E={LOGIN:"LOGIN",CLEAR_LOGIN_ERROR:"CLEAR_LOGIN_ERROR",REQUEST_START:"REQUEST_START",LOGIN_REQUEST_DONE:"LOGIN_REQUEST_DONE",LOGIN_FAILED:"LOGIN_FAILED",LOGIN_FAILED_NO_CODE:"LOGIN_FAILED_NO_CODE",INPUT_ERROR:"INPUT_ERROR",LOGOUT:"LOGOUT"},h=function(e,t){return{type:E.LOGIN,payload:{username:e,password:t}}},f=function(){return{type:E.LOGOUT}};var b,y=Object(l.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case E.REQUEST_START:return!0;case E.REQUEST_DONE:return!1;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.CLEAR_LOGIN_ERROR:return"";case E.LOGIN_FAILED:return"Ooops! The username and password didn't match. Try again!";case E.LOGIN_FAILED_NO_CODE:return"Ooops! Something went wrong! Is the server running?";case E.INPUT_ERROR:return t.payload;default:return e}}}),_=a(19),O={FETCH_EMPLOYEES:"FETCH_EMPLOYEES",FETCH_ALL_EMPLOYEES:"FETCH_ALL_EMPLOYEES",ADD_EMPLOYEE:"ADD_EMPLOYEE",DELETE_EMPLOYEE:"DELETE_EMPLOYEE",UPDATE_EMPLOYEE:"UPDATE_EMPLOYEE",FETCH_SUPERVISORS:"FETCH_SUPERVISORS",ADD_SUPERVISOR:"ADD_SUPERVISOR",UPDATE_SUPERVISOR:"UPDATE_SUPERVISOR",DELETE_SUPERVISOR:"DELETE_SUPERVISOR",SET_SUPERVISORS:"SET_SUPERVISORS",SET_SUPERVISOR_EMPLOYEES:"SET_SUPERVISOR_EMPLOYEES",SET_ALL_EMPLOYEES:"SET_ALL_EMPLOYEES"},v={supervisors:[],supervisorEmployees:[],allEmployees:[],supervisorToView:""},g=Object(l.c)({staff:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return t.type===O.SET_SUPERVISORS?Object(_.a)({},e,{supervisors:t.payload}):t.type===O.SET_SUPERVISOR_EMPLOYEES?Object(_.a)({},e,{supervisorEmployees:t.payload}):t.type===O.SET_ALL_EMPLOYEES?Object(_.a)({},e,{allEmployees:t.payload}):"SET_SUPERVISOR_TO_VIEW"===t.type?Object(_.a)({},e,{supervisorToView:t.payload}):e}}),C={FETCH_CURRENT_EMPLOYEE_FEEDBACK:"FETCH_CURRENT_EMPLOYEE_FEEDBACK",FETCH_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR:"FETCH_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR",FETCH_ALL_FEEDBACK_BY_MANAGER_SUPERVISORS:"FETCH_ALL_FEEDBACK_BY_MANAGER_SUPERVISORS",ADD_FEEDBACK:"ADD_FEEDBACK",FEEDBACK_POST_SUCCESS:"FEEDBACK_POST_SUCCESS",FEEDBACK_POST_ERROR:"FEEDBACK_POST_ERROR",DISPLAY_FEEDBACK_CONFIRMATION:"DISPLAY_FEEDBACK_CONFIRMATION",FEEDBACK_CONFIRMATION_ACKWNOLEDGED:"FEEDBACK_CONFIRMATION_ACKWNOLEDGED",UPDATE_FEEDBACK:"UPDATE_FEEDBACK",SET_CURRENT_EMPLOYEE_FEEDBACK:"SET_CURRENT_EMPLOYEE_FEEDBACK",SET_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR:"SET_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR",SET_ALL_FEEDBACK_BY_MANAGER_SUPERVISORS:"SET_ALL_FEEDBACK_BY_MANAGER_SUPERVISORS",SET_ALL_DETAILED_FEEDBACK_BY_MANAGER_SUPERVISORS:"SET_ALL_DETAILED_FEEDBACK_BY_MANAGER_SUPERVISORS"},k={currentEmployee:[],allFeedbackBySupervisor:[]},S=Object(l.c)({feedback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return t.type===C.SET_CURRENT_EMPLOYEE_FEEDBACK?Object(_.a)({},e,{currentEmployee:t.payload}):t.type===C.SET_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR?Object(_.a)({},e,{allFeedbackBySupervisor:t.payload}):e},newPostedFeedback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===C.FEEDBACK_POST_SUCCESS?t.payload:t.type==C.FEEDBACK_CONFIRMATION_ACKWNOLEDGED?null:e},confirmationDisplayed:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===C.DISPLAY_FEEDBACK_CONFIRMATION||t.type!==C.FEEDBACK_CONFIRMATION_ACKWNOLEDGED&&e}}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SEARCH":return t.payload;default:return e}},w={FETCH_ALL_PENDING_FOLLOWUP:"FETCH_ALL_PENDING_FOLLOWUP",FETCH_EMPLOYEE_PENDING_FOLLOWUP:"FETCH_EMPLOYEE_PENDING_FOLLOWUP",ADD_FOLLOWUP:"ADD_FOLLOWUP",FOLLOWUP_POST_SUCCESS:"FOLLOWUP_POST_SUCCESS",FOLLOWUP_POST_ERROR:"FOLLOWUP_POST_ERROR",COMPLETE_FOLLOWUP:"COMPLETE_FOLLOWUP",SET_ALL_PENDING_FOLLOWUP:"SET_ALL_PENDING_FOLLOWUP",SET_EMPLOYEE_PENDING_FOLLOWUP:"SET_EMPLOYEE_PENDING_FOLLOWUP"},A=Object(l.c)({newPostedFollowup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===w.FOLLOWUP_POST_SUCCESS?t.payload:t.type===C.FEEDBACK_CONFIRMATION_ACKWNOLEDGED?null:e}}),R={column:"",direction:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COLUMN_TO_SORT":return Object(_.a)({},e,{column:t.payload});case"ADD_SORT_DIRECTION":return Object(_.a)({},e,{direction:t.payload});default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMPLOYEE_TO_VIEW":return t.payload;default:return e}},F={FETCH_FEEDBACK_QUALITY_CATEGORIES:"FETCH_FEEDBACK_QUALITY_CATEGORIES",SET_FEEDBACK_QUALITY_CATEGORIES:"SET_FEEDBACK_QUALITY_CATEGORIES"},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===F.SET_FEEDBACK_QUALITY_CATEGORIES?t.payload:e},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NAV_VALUE":return t.payload;default:return e}},U=Object(l.c)((b={user:m,login:y,people:g,feedback:S,search:j,sort:T,followup:A},Object(p.a)(b,"sort",T),Object(p.a)(b,"id",D),Object(p.a)(b,"quality_types",L),Object(p.a)(b,"nav",I),b)),N=a(5869),x=a(5870),P=a(5868),B=a(5867),M=a(5),Y=a(6),G=a(8),q=a(7),V=a(9),H=a(1),W=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(H.l,{container:!0,spacing:0},r.a.createElement(H.l,{item:!0,xs:!1,md:12,style:{height:"10vh"}}),r.a.createElement(H.l,{item:!0,xs:!1,md:1}),r.a.createElement(H.l,{className:e.content,item:!0,xs:12,md:10},this.props.children),r.a.createElement(H.l,{item:!0,xs:!1,md:1}),r.a.createElement(H.l,{item:!0,xs:!1,md:12,style:{height:"10vh"}}))}}]),t}(r.a.Component),K=Object(u.withStyles)(function(e){var t;return{content:(t={backgroundColor:"white"},Object(p.a)(t,e.breakpoints.down("sm"),{height:"100vh"}),Object(p.a)(t,e.breakpoints.up("md"),{height:"80vh"}),t)}})(W),Q={button:{margin:5,width:30}},z=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).login=function(e){e.preventDefault(),console.log("logging in"),""===a.state.username||""===a.state.password?a.props.dispatch({type:E.INPUT_ERROR,payload:"Enter your username and password!"}):(console.log("in the else statement"),a.props.dispatch(h(a.state.username,a.state.password)))},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a.state={username:"",password:""},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER}),this.props.dispatch({type:E.CLEAR_LOGIN_ERROR})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null===this.props.user.userName||this.props.history.push("/dashboard")}},{key:"renderAlert",value:function(){return""!==this.props.login.message?r.a.createElement("h2",{className:"alert",role:"alert"},this.props.login.message):r.a.createElement("span",null)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.renderAlert(),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("h1",null,"odissii"),r.a.createElement("div",null,r.a.createElement(H.k,{htmlFor:"username"},"Username:",r.a.createElement(H.n,{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement(H.k,{htmlFor:"password"},"Password:",r.a.createElement(H.n,{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",{className:"align-right"},r.a.createElement(H.e,{onClick:function(){return e.props.history.push("/reset/password")}},"Forgot Password?"),r.a.createElement(H.e,{style:Q.button,type:"submit",variant:"contained",color:"primary"},"Login"))))}}]),t}(n.Component),J=Object(c.b)(function(e){return{user:e.user,login:e.login}})(z),X=a(5865),Z=a(15),$=a.n(Z),ee=[{id:1,name:"supervisor"},{id:2,name:"manager"}],te=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).registerUser=function(e){if(e.preventDefault(),""===a.state.username||""===a.state.password)a.setState({message:"Choose a username and password!"});else{var t=a.state,n={username:t.username,password:t.password,employeeId:t.employeeId,first_name:t.first_name,last_name:t.last_name,email_address:t.email_address,role_id:t.role_id};$.a.post("/api/user/register/",n).then(function(e){201===e.status?a.props.history.push("/home"):a.setState({message:"Ooops! That didn't work. The username might already be taken. Try again!"})}).catch(function(){a.setState({message:"Ooops! Something went wrong! Is the server running?"})})}},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a.state={username:"",password:"",employeeId:"",first_name:"",last_name:"",email_address:"",role_id:"",message:""},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"renderAlert",value:function(){return""!==this.state.message?r.a.createElement("h2",{className:"alert",role:"alert"},this.state.message):r.a.createElement("span",null)}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderAlert(),r.a.createElement("form",{onSubmit:this.registerUser},r.a.createElement("h1",null,"Register User"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"employeeId"},"Employee Id:",r.a.createElement("input",{type:"text",name:"employeeId",value:this.state.employeeId,onChange:this.handleInputChangeFor("employeeId")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"first_name"},"First Name:",r.a.createElement("input",{type:"text",name:"first_name",value:this.state.first_name,onChange:this.handleInputChangeFor("first_name")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"last_name"},"Last Name:",r.a.createElement("input",{type:"text",name:"last_name",value:this.state.last_name,onChange:this.handleInputChangeFor("last_name")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email_address"},"Email Address:",r.a.createElement("input",{type:"email",name:"email_address",value:this.state.email_address,onChange:this.handleInputChangeFor("email_address")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"role_id"},r.a.createElement("select",{value:this.state.role_id,onChange:this.handleInputChangeFor("role_id")},r.a.createElement("option",{value:"",disabled:!0},"Select user type"),ee.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",name:"submit",value:"Register"}),r.a.createElement(X.a,{to:"/home"},"Cancel"))))}}]),t}(n.Component),ae={SUPERVISOR:"supervisor",MANAGER:"manager"},ne=a(91),re=a.n(ne),oe=a(119),se=a.n(oe),le=a(120),ce=a.n(le),ie=a(90),ue=a.n(ie),pe={stickToBottom:{width:"100%",position:"fixed",bottom:0,left:0}},de=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){a.props.dispatch({type:"ADD_NAV_VALUE",payload:t})},a.logout=function(){a.props.dispatch(f()),console.log("in logout click")},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER})}},{key:"render",value:function(){var e=null;return this.props.user&&this.props.user.role===ae.MANAGER?e=r.a.createElement(H.c,{value:this.props.nav,style:pe.stickToBottom,onChange:this.handleChange},r.a.createElement(H.d,{className:"nav",label:"Dashboard",value:"dashboard",icon:r.a.createElement(ue.a,null),component:X.a,to:"/dashboard"}),r.a.createElement(H.d,{className:"nav",label:"Employeees",value:"employees",icon:r.a.createElement(re.a,null),component:X.a,to:"/allEmployees"}),r.a.createElement(H.d,{className:"nav",label:"Add Staff",value:"staff",icon:r.a.createElement(se.a,null),component:X.a,to:"/addperson"}),r.a.createElement(H.d,{className:"nav",icon:r.a.createElement(H.e,null,"Logout"),onClick:this.logout})):this.props.user&&this.props.user.role===ae.SUPERVISOR&&(e=r.a.createElement(H.c,{value:this.props.nav,style:pe.stickToBottom,onChange:this.handleChange},r.a.createElement(H.d,{className:"nav",label:"Dashboard",value:"dashboard",icon:r.a.createElement(ue.a,null),component:X.a,to:"/dashboard"}),r.a.createElement(H.d,{className:"nav",label:"Employees",value:"employees",icon:r.a.createElement(re.a,null),component:X.a,to:"/employees"}),r.a.createElement(H.d,{className:"nav",label:"Feedback",value:"feedback",icon:r.a.createElement(ce.a,null),component:X.a,to:"/feedback/new"}),r.a.createElement(H.d,{className:"nav",icon:r.a.createElement(H.e,null,"Logout"),onClick:this.logout}))),r.a.createElement(H.l,null,e)}}]),t}(n.Component),me=Object(c.b)(function(e){return{user:e.user,nav:e.nav}})(de),Ee=a(21),he=a.n(Ee),fe=a(36),be={scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}},ye=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"render",value:function(){var e=this.props,t=e.quality_types,a=e.data;if(!t.length||!a.length)return null;var n=Ce(a,t),o={labels:ve(),datasets:[{label:"Correct",backgroundColor:"#F79B1B",data:ge(n,Oe(t,"correct"))},{label:"Instruct",backgroundColor:"#6C9BD1",data:ge(n,Oe(t,"instruct"))},{label:"Praise",backgroundColor:"#4AC985",data:ge(n,Oe(t,"praise"))}]};return r.a.createElement(fe.a,{data:o,options:be})}}]),t}(r.a.Component),_e=Object(c.b)(function(e){return{quality_types:e.quality_types}})(ye),Oe=function(e,t){return e.find(function(e){return e.name===t}).id},ve=function(){for(var e=[],t=12;t>0;t--)e.push(he()().subtract(t,"months").format("MMM"));return e},ge=function(e,t){return Object.values(e).map(function(e){return e[t]})},Ce=function(e,t){return[12,11,10,9,8,7,6,5,4,3,2,1].map(ke(e)).map(function(e){return Se(e,t)})},ke=function(e){return function(t){var a=he()().subtract(t,"months").startOf("month"),n=he()().subtract(t,"months").endOf("month");return e.filter(function(e){var t=he()(e.date_created);return t>=a&&t<=n})}},Se=function(e,t){var a=t.reduce(function(e,t){return e[t.id]=0,e},{});return e.reduce(function(e,t){return e[t.quality_id]+=1,e},Object(_.a)({},a))},je=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"render",value:function(){return this.props.quality_types.length?r.a.createElement(fe.b,{data:{labels:["Praise","Instruct","Correct"],datasets:[{data:Ae(this.props.data,this.props.quality_types),backgroundColor:["#4AC985","#6C9BD1","#F79B1B"]}]}}):null}}]),t}(r.a.Component),we=Object(c.b)(function(e){return{quality_types:e.quality_types}})(je),Ae=function(e,t){var a=he()().quarter(),n=e.reduce(function(e,n){return he()(n.date_created).quarter()===a&&(e[t.find(function(e){return e.id===n.quality_id}).name]+=1),e},{praise:0,instruct:0,correct:0});return Object.values(n)},Re={scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}},Te=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"render",value:function(){var e=this.props,t=e.quality_types,a=e.data;if(!t.length||!a.length)return null;var n=Ue(),o=a.filter(Fe),s=Ie(o,t),l={labels:n,datasets:[{label:"Correct",backgroundColor:"#F79B1B",data:Ne(s,Le(t,"correct"))},{label:"Instruct",backgroundColor:"#6C9BD1",data:Ne(s,Le(t,"instruct"))},{label:"Praise",backgroundColor:"#4AC985",data:Ne(s,Le(t,"praise"))}]};return r.a.createElement(fe.a,{data:l,options:Re})}}]),t}(r.a.Component),De=Object(c.b)(function(e){return{quality_types:e.quality_types}})(Te),Fe=function(e){return he()(e.date_created).isSameOrAfter(he()().subtract(3,"weeks").startOf("isoWeek"))},Le=function(e,t){return e.find(function(e){return e.name===t}).id},Ie=function(e,t){var a=he()().subtract(3,"weeks").startOf("isoWeek"),n=he()().subtract(2,"weeks").startOf("isoWeek"),r=he()().subtract(1,"weeks").startOf("isoWeek"),o=he()().startOf("isoWeek"),s=t.reduce(function(e,t){return e[t.id]=0,e},{});return e.reduce(function(e,t){var s=he()(t.date_created);return s.isBetween(a,n,"days","[]")?e.threeWeeksAgo[t.quality_id]+=1:s.isBetween(n,r,"days","[]")?e.twoWeeksAgo[t.quality_id]+=1:s.isBetween(r,o,"days","[]")&&(e.oneWeekAgo[t.quality_id]+=1),e},{threeWeeksAgo:Object(_.a)({},s),twoWeeksAgo:Object(_.a)({},s),oneWeekAgo:Object(_.a)({},s)})},Ue=function(){return[he()().subtract(3,"weeks").startOf("isoWeek").format("MMM DD"),he()().subtract(2,"weeks").startOf("isoWeek").format("MMM DD"),he()().subtract(1,"weeks").startOf("isoWeek").format("MMM DD")]},Ne=function(e,t){return Object.values(e).map(function(e){return e[t]})},xe=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:C.FETCH_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR})}},{key:"render",value:function(){var e=this.props.feedbackHistory;return r.a.createElement("div",{className:"padding-bottom"},r.a.createElement(H.l,{container:!0,spacing:0},r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.B,{variant:"display1",className:"center"},this.props.user.first_name,"'s Dashboard")),r.a.createElement(H.l,{item:!0,xs:12,md:6},r.a.createElement(H.B,{variant:"subheading",className:"center"},"Feedback given in the past quarter"),r.a.createElement(we,{data:e})),r.a.createElement(H.l,{item:!0,xs:12,md:6},r.a.createElement(H.B,{variant:"subheading",className:"center"},"Feedback given in the past three weeks"),r.a.createElement(De,{data:e})),r.a.createElement(H.l,{item:!0,xs:12,md:6},r.a.createElement(H.B,{variant:"subheading",className:"center"},"Feedback given in the past twelve months"),r.a.createElement(_e,{data:e}))))}}]),t}(r.a.Component),Pe=Object(c.b)(function(e){return{user:e.user,feedbackHistory:e.feedback.feedback.allFeedbackBySupervisor}})(xe),Be=a(125),Me={responsive:!0},Ye=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e={labels:["Praise","Instruct","Correct"],datasets:[{data:[this.props.feedback.praise,this.props.feedback.instruct,this.props.feedback.correct],backgroundColor:["#4AC985","#6C9BD1","#F79B1B"]}]};return r.a.createElement(fe.b,{data:e,options:Me})}}]),t}(n.Component),Ge={scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}},qe=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e={labels:this.props.supervisors,datasets:[{label:"Praise",backgroundColor:"#4AC985",data:this.props.praise},{label:"Instruct",backgroundColor:"#6C9BD1",data:this.props.instruct},{label:"Correct",backgroundColor:"#F79B1B",data:this.props.correct}]};return r.a.createElement("div",null,r.a.createElement(fe.a,{data:e,options:Ge}))}}]),t}(n.Component),Ve=a(251),He=(a(5825),function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).editPerson=function(e){a.props.history.push("/edit/supervisor/".concat(e))},a.getSupervisors=function(){$()({method:"GET",url:"/api/staff/supervisors"}).then(function(e){a.props.dispatch({type:O.SET_SUPERVISORS,payload:e.data}),a.sortSupervisors(e.data)}).catch(function(e){console.log("Error getting supervisors",e)})},a.getFeedback=function(e){for(var t=new Date,n=he()(t).format("L"),r=he()(t).subtract(1,"year").format("L"),o=0;o<e.length;o++)$()({method:"GET",url:"/api/feedback/supervisors/count?id=".concat(e[o],"&start=").concat(r,"&end=").concat(n)}).then(function(e){var t=e.data[0];if(void 0!==t){var n=a.state.supervisors.findIndex(function(e){return e.supervisor_id===t.sid}),r=a.state.supervisors;r[n]=Object(_.a)({},r[n],{praise:parseInt(t.praise),instruct:parseInt(t.instruct),correct:parseInt(t.correct)}),a.setState({supervisors:r})}a.sortData()}).catch(function(e){console.log("Error getting feedback counts",e)})},a.getFeedbackDetails=function(e){var t=new Date,n=he()(t).format("L"),r=he()(t).subtract(1,"year").format("L");e.map(function(e){return $()({method:"GET",url:"/api/feedback/supervisors/reports?id=".concat(e,"&start=").concat(r,"&end=").concat(n)}).then(function(t){a.setState({reports:Object(_.a)({},a.state.reports,Object(p.a)({},e,t.data))})}).catch(function(e){console.log("Error getting feedback details",e)})})},a.navTo=function(e){a.props.dispatch({type:"CLEAR_FEEDBACK"}),a.props.history.push("/view/supervisor/".concat(e))},a.navToEmployees=function(e){a.props.dispatch({type:"SET_SUPERVISOR_TO_VIEW",payload:{id:e}}),a.props.history.push("/employees/")},a.sortSupervisors=function(e){for(var t=[],n=[],r=[],o=0;o<e.length;o++)t.push({first_name:e[o].first_name,last_name:e[o].last_name,supervisor_id:e[o].supervisor_id,praise:0,instruct:0,correct:0}),n.push(e[o].supervisor_id),r.push(e[o].last_name+", "+e[o].first_name);a.setState(Object(_.a)({},a.state,{supervisors:t,labels:r})),a.getFeedback(n),a.getFeedbackDetails(n)},a.sortData=function(){var e=a.state.supervisors.map(function(e){return e.praise}),t=a.state.supervisors.map(function(e){return e.instruct}),n=a.state.supervisors.map(function(e){return e.correct});a.setState({praise:e,correct:n,instruct:t})},a.state={supervisors:[],praise:[],correct:[],instruct:[],labels:[],reports:{},feedbackCounts:{}},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch({type:d.FETCH_USER}),this.getSupervisors()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"padding-bottom"},r.a.createElement(H.l,{container:!0,spacing:0},r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.B,{variant:"display1",className:"center"},this.props.user.first_name,"'s Dashboard"),r.a.createElement(H.B,{variant:"subheading",className:"center"},"Feedback given past 12 months")),r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(qe,{supervisors:this.state.labels,praise:this.state.praise,correct:this.state.correct,instruct:this.state.instruct})),r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement("br",null),r.a.createElement(H.B,{variant:"headline",className:"center"},"All Supervisors"),r.a.createElement("br",null)),r.a.createElement("div",{className:"card-container"},this.state.supervisors.map(function(t,a){return r.a.createElement("div",{className:"card",key:a},r.a.createElement(H.B,{variant:"headline"},t.first_name," ",t.last_name," ",r.a.createElement(H.m,{onClick:function(){return e.editPerson(t.supervisor_id)}},r.a.createElement(Be.b,null))),r.a.createElement(H.e,{color:"primary",onClick:function(){return e.navTo(t.supervisor_id)}},"Summary"),r.a.createElement(H.e,{color:"primary",onClick:function(){return e.navToEmployees(t.supervisor_id)}},"Employees"),r.a.createElement(H.B,null,"Feedback given past 12 months"),r.a.createElement(Ye,{feedback:t}),e.state.reports[t.supervisor_id]&&r.a.createElement(Ve.CSVLink,{data:e.state.reports[t.supervisor_id],filename:"".concat(t.last_name,"-feedback.csv"),target:"_blank"},"Download CSV"))}))))}}]),t}(r.a.Component)),We=Object(c.b)(function(e){return{user:e.user,people:e.people}})(He),Ke=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e,t=this.props.user;return t.role===ae.SUPERVISOR?e=r.a.createElement(Pe,{history:this.props.history}):t.role===ae.MANAGER&&(e=r.a.createElement(We,{history:this.props.history})),r.a.createElement("div",null,e,r.a.createElement(me,null))}}]),t}(r.a.Component),Qe=Object(c.b)(function(e){return{user:e.user}})(Ke),ze=a(5866),Je=a(34),Xe=a.n(Je),Ze=a(70),$e=a.n(Ze),et={grow:{flexGrow:1},input:{width:100},color:{color:"#f7fcff"}},tt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.dispatch({type:"ADD_SEARCH",payload:e.target.value})},a.handleClick=function(e){a.props.history.push("/dashboard"),a.props.dispatch({type:"ADD_NAV_VALUE",payload:"dashboard"})},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.handleClick},r.a.createElement(Xe.a,{style:et.color})),r.a.createElement("h3",null,"All Employees"),r.a.createElement("div",{style:et.grow}),r.a.createElement("div",null,r.a.createElement($e.a,null),r.a.createElement(H.o,{style:et.input,placeholder:"Search...",onChange:this.handleChange}))))}}]),t}(r.a.Component),at=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(tt)),nt=a(121),rt=a.n(nt),ot=a(44),st=a.n(ot),lt=a(45),ct=a.n(lt),it=a(55),ut=a.n(it),pt=a(21),dt={table:{marginTop:5,paddingBottom:"30vh",backgroundColor:"white"},tableCell:{padding:0,textAlign:"center"},grid:{display:"flex",justifyContent:"center",alignItems:"center"},gridRow:{display:"flex",alignItems:"center"},avatar:{marginRight:"10px",marginLeft:"10px"}},mt={asc:"desc",desc:"asc"},Et=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).getEmployees=function(){a.props.dispatch({type:O.FETCH_ALL_EMPLOYEES})},a.handleSort=function(e){a.props.dispatch({type:"ADD_COLUMN_TO_SORT",payload:e});var t=a.props.sort.column===e?mt[a.props.sort.direction]:"desc";a.props.dispatch({type:"ADD_SORT_DIRECTION",payload:t})},a.handleClick=function(e){a.props.history.push("/edit/employee/".concat(e))},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.getEmployees(),ut()(this.props.people,this.props.sort.column,this.props.sort.direction)}},{key:"render",value:function(){var e=this,t=null,a=ut()(this.props.people,this.props.sort.column,this.props.sort.direction);if(this.props.user.role===ae.MANAGER){var n=a.filter(function(t){return-1!==t.first_name.toLowerCase().indexOf(e.props.search.toLowerCase())||-1!==t.last_name.toLowerCase().indexOf(e.props.search.toLowerCase())});t=r.a.createElement(H.u,{style:dt.table},r.a.createElement(H.x,null,r.a.createElement(H.y,null,r.a.createElement(H.w,{style:dt.tableCell,onClick:function(){return e.handleSort("last_name")}},r.a.createElement(H.l,{style:dt.grid},"Employee Name","last_name"===this.props.sort.column?"asc"===this.props.sort.direction?r.a.createElement(st.a,null):r.a.createElement(ct.a,null):null)),r.a.createElement(H.w,{style:dt.tableCell,onClick:function(){return e.handleSort("recent")}},r.a.createElement(H.l,{style:dt.grid},"Last\xa0Feedback","recent"===this.props.sort.column?"asc"===this.props.sort.direction?r.a.createElement(st.a,null):r.a.createElement(ct.a,null):null)),r.a.createElement(H.w,{style:dt.tableCell},"Edit"))),r.a.createElement(H.v,null,n.map(function(t){return r.a.createElement(H.y,{key:t.id,value:t},r.a.createElement(H.w,{style:dt.tableCell},r.a.createElement(H.l,{style:dt.gridRow},r.a.createElement(H.b,{style:dt.avatar,alt:t.first_name,src:t.image_path||"images/avatar.png"}),t.first_name,"\xa0",t.last_name)),r.a.createElement(H.w,{style:dt.tableCell},t.recent&&pt(t.recent).format("MM/DD/YYYY")),r.a.createElement(H.w,{style:dt.tableCell},r.a.createElement(H.e,{onClick:function(){return e.handleClick(t.id)}},r.a.createElement(rt.a,null))))})))}return r.a.createElement(H.l,null,t)}}]),t}(r.a.Component),ht=Object(ze.a)(Object(c.b)(function(e){return{user:e.user,people:e.people.staff.allEmployees,employees:e.people.staff.supervisorEmployees,search:e.search,filter:e.filter,sort:e.sort}})(Et)),ft=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e;return this.props.user.userName&&this.props.user.role===ae.MANAGER&&(e=r.a.createElement(H.l,null,r.a.createElement(at,null),r.a.createElement(H.g,null),r.a.createElement(ht,null))),r.a.createElement(H.l,null,e,r.a.createElement(me,null))}}]),t}(r.a.Component),bt=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(ft)),yt={grow:{flexGrow:1},input:{width:100},color:{color:"#f7fcff"}},_t=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.dispatch({type:"ADD_SEARCH",payload:e.target.value})},a.handleClick=function(e){a.props.history.push("/dashboard"),a.props.dispatch({type:"ADD_NAV_VALUE",payload:"dashboard"})},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.handleClick},r.a.createElement(Xe.a,{style:yt.color})),r.a.createElement("h3",null,"Employees"),r.a.createElement("div",{style:yt.grow}),r.a.createElement("div",null,r.a.createElement($e.a,null),r.a.createElement(H.o,{style:yt.input,placeholder:"Search...",onChange:this.handleChange}))))}}]),t}(r.a.Component),Ot=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(_t)),vt=a(122),gt=a.n(vt),Ct=a(21),kt={table:{marginTop:5,paddingBottom:"30vh",backgroundColor:"white"},tableCell:{padding:0,textAlign:"center"},grid:{display:"flex",justifyContent:"center",alignItems:"center"},gridRow:{display:"flex",alignItems:"center"},avatar:{marginRight:"10px",marginLeft:"10px"}},St={asc:"desc",desc:"asc"},jt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).getEmployees=function(){if(a.props.user.userName&&a.props.user.role===ae.MANAGER){var e=a.props.people.id;$()({method:"GET",url:"/api/staff/employees/"+e}).then(function(e){var t=e.data,n={type:O.SET_SUPERVISOR_EMPLOYEES,payload:t};a.props.dispatch(n)}).catch(function(e){console.log("Supervisor Employee List get error",e),alert("Unable to GET supervisor employees")})}else if(a.props.user.userName&&a.props.user.role===ae.SUPERVISOR){var t=a.props.user.id;$()({method:"GET",url:"/api/staff/employees/"+t}).then(function(e){var t=e.data,n={type:O.SET_SUPERVISOR_EMPLOYEES,payload:t};a.props.dispatch(n)}).catch(function(e){console.log("Supervisor Employee List get error",e),alert("Unable to GET supervisor employees")})}},a.handleSort=function(e){a.props.dispatch({type:"ADD_COLUMN_TO_SORT",payload:e});var t=a.props.sort.column===e?St[a.props.sort.direction]:"desc";a.props.dispatch({type:"ADD_SORT_DIRECTION",payload:t})},a.handleClick=function(e){a.props.dispatch({type:"EMPLOYEE_TO_VIEW",payload:e}),a.props.history.push("/individualEmployee")},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.getEmployees(),ut()(this.props.people,this.props.sort.column,this.props.sort.direction)}},{key:"render",value:function(){var e=this,t=null,a=ut()(this.props.employees,this.props.sort.column,this.props.sort.direction);if(this.props.user.userName){var n=a.filter(function(t){return-1!==t.first_name.toLowerCase().indexOf(e.props.search.toLowerCase())||-1!==t.last_name.toLowerCase().indexOf(e.props.search.toLowerCase())});t=r.a.createElement(H.u,{style:kt.table},r.a.createElement(H.x,null,r.a.createElement(H.y,null,r.a.createElement(H.w,{style:kt.tableCell,onClick:function(){return e.handleSort("last_name")}},r.a.createElement(H.l,{style:kt.grid},"Employee Name","last_name"===this.props.sort.column?"asc"===this.props.sort.direction?r.a.createElement(st.a,null):r.a.createElement(ct.a,null):null)),r.a.createElement(H.w,{style:kt.tableCell,onClick:function(){return e.handleSort("recent")}},r.a.createElement(H.l,{style:kt.grid},"Last\xa0Feedback","recent"===this.props.sort.column?"asc"===this.props.sort.direction?r.a.createElement(st.a,null):r.a.createElement(ct.a,null):null)),r.a.createElement(H.w,{style:kt.tableCell,onClick:function(){return e.handleSort("incomplete")}},r.a.createElement(H.l,{style:kt.grid},"Follow Up","followUp"===this.props.sort.column?"asc"===this.props.sort.direction?r.a.createElement(st.a,null):r.a.createElement(ct.a,null):null)))),r.a.createElement(H.v,null,n.map(function(t){return r.a.createElement(H.y,{key:t.id,value:t,onClick:function(){return e.handleClick(t.id)}},r.a.createElement(H.w,{style:kt.tableCell},r.a.createElement(H.l,{style:kt.gridRow},r.a.createElement(H.b,{style:kt.avatar,alt:t.first_name&&t.last_name,src:t.image_path||"images/avatar.png"}),t.first_name,"\xa0",t.last_name)),r.a.createElement(H.w,{style:kt.tableCell},t.recent&&Ct(t.recent).format("MM/DD/YYYY")),r.a.createElement(H.w,{style:kt.tableCell},t.incomplete&&r.a.createElement(gt.a,null)))})))}return r.a.createElement(H.l,null,t)}}]),t}(r.a.Component),wt=Object(ze.a)(Object(c.b)(function(e){return{user:e.user,employees:e.people.staff.supervisorEmployees,search:e.search,filter:e.filter,sort:e.sort,people:e.people.staff.supervisorToView}})(jt)),At=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ot,null),r.a.createElement(wt,null))}}]),t}(r.a.Component),Rt=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(At)),Tt=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e;return this.props.user.userName&&(e=r.a.createElement(Rt,null)),r.a.createElement(H.l,null,e,r.a.createElement(me,null))}}]),t}(r.a.Component),Dt=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(Tt)),Ft=(a(5833),a(46)),Lt=a.n(Ft),It=a(69),Ut=a.n(It),Nt=a(60),xt=a.n(Nt),Pt=a(72),Bt=a.n(Pt),Mt=a(21),Yt={avatar:{margin:10},praiseAvatar:{margin:10,color:"#fff",backgroundColor:"#4AC985"},correctAvatar:{margin:10,color:"#fff",backgroundColor:"#F79B1B"},instructAvatar:{margin:10,color:"#fff",backgroundColor:"#6C9BD1"},row:{textAlign:"center",padding:0},grid:{display:"flex",justifyContent:"center",alignItems:"center"}},Gt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(e){a.props.history.push("/feedback/detail/".concat(a.props.feedback.feedbackId))},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=null;return 1===this.props.feedback.id?e=r.a.createElement(Lt.a,{style:Yt.row},r.a.createElement(H.l,{style:Yt.grid},r.a.createElement(Bt.a,{style:Yt.praiseAvatar},r.a.createElement(xt.a,null,"thumb_up")))):3===this.props.feedback.id?e=r.a.createElement(Lt.a,{style:Yt.row},r.a.createElement(H.l,{style:Yt.grid},r.a.createElement(Bt.a,{style:Yt.correctAvatar},r.a.createElement(xt.a,null,"thumb_down")))):2===this.props.feedback.id&&(e=r.a.createElement(Lt.a,{style:Yt.row},r.a.createElement(H.l,{style:Yt.grid},r.a.createElement(Bt.a,{style:Yt.instructAvatar},r.a.createElement(xt.a,null,"thumbs_up_down"))))),r.a.createElement(Ut.a,null,e,r.a.createElement(Lt.a,{onClick:this.clickHandler,style:Yt.row},r.a.createElement(H.l,{style:Yt.grid},this.props.feedback.details.slice(0,15),"...")),r.a.createElement(Lt.a,{style:Yt.row},Mt(this.props.feedback.date_created).format("MM/DD/YY")))}}]),t}(n.Component),qt=Object(u.withStyles)(Yt)(Object(c.b)()(Gt)),Vt=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).state={qualityCount:[],employeeSummary:{labels:["Praise","Instruct","Correct"],datasets:[{data:[a.props.totalFeedback.praise,a.props.totalFeedback.instruct,a.props.totalFeedback.correct],backgroundColor:["#4AC985","#6C9BD1","#F79B1B"]}]}},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(fe.b,{data:this.state.employeeSummary})}}]),t}(n.Component),Ht=Object(c.b)()(Vt),Wt=a(21),Kt=function(e){return Wt(e.date_created).isSameOrAfter(Wt().subtract(4,"weeks").startOf("isoWeek"))},Qt=function(e,t){return e.find(function(e){return e.name===t}).id},zt=function(e,t){return Object.values(e).map(function(e){return e[t]})},Jt=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"render",value:function(){var e=this.props,t=e.quality_types,a=e.data;if(!t.length||!a.length)return null;var n=[Wt().subtract(4,"weeks").startOf("isoWeek").format("MMM DD"),Wt().subtract(3,"weeks").startOf("isoWeek").format("MMM DD"),Wt().subtract(2,"weeks").startOf("isoWeek").format("MMM DD"),Wt().subtract(1,"weeks").startOf("isoWeek").format("MMM DD")],o=function(e,t){var a=Wt().subtract(4,"weeks").startOf("isoWeek"),n=Wt().subtract(3,"weeks").startOf("isoWeek"),r=Wt().subtract(2,"weeks").startOf("isoWeek"),o=Wt().subtract(1,"weeks").startOf("isoWeek"),s=Wt().startOf("isoWeek"),l=t.reduce(function(e,t){return e[t.id]=0,e},{});return e.reduce(function(e,t){var l=Wt(t.date_created);return l.isBetween(a,n,null,"[)")?e.fourWeeksAgo[t.id]+=1:l.isBetween(n,r,null,"[)")?e.threeWeeksAgo[t.id]+=1:l.isBetween(r,o,null,"[)")?e.twoWeeksAgo[t.id]+=1:l.isBetween(o,s,null,"[)")&&(e.oneWeekAgo[t.id]+=1),e},{fourWeeksAgo:Object(_.a)({},l),threeWeeksAgo:Object(_.a)({},l),twoWeeksAgo:Object(_.a)({},l),oneWeekAgo:Object(_.a)({},l)})}(a.filter(Kt),t),s={datasets:[{label:"Praise",data:zt(o,Qt(t,"praise")),backgroundColor:"#4AC985"},{label:"Instruct",data:zt(o,Qt(t,"instruct")),backgroundColor:"#6C9BD1"},{label:"Correct",data:zt(o,Qt(t,"correct")),backgroundColor:"#F79B1B"}],labels:n};return r.a.createElement("div",null,r.a.createElement(fe.a,{data:s,options:{scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{suggestedMax:5}}]}}}))}}]),t}(n.Component),Xt=Object(c.b)(function(e){return{quality_types:e.quality_types}})(Jt),Zt=a(21),$t=function(e,t){return e.find(function(e){return e.name===t}).id},ea=function(e,t){return Object.values(e).map(function(e){return e[t]})},ta=function(e){return function(t){var a=Zt().subtract(t,"months").startOf("month"),n=Zt().subtract(t,"months").endOf("month");return e.filter(function(e){var t=Zt(e.date_created);return t>=a&&t<=n})}},aa=function(e,t){var a=t.reduce(function(e,t){return e[t.id]=0,e},{});return e.reduce(function(e,t){return e[t.id]+=1,e},Object(_.a)({},a))},na=function(e){function t(e){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).call(this,e))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"render",value:function(){var e=this.props,t=e.quality_types,a=e.data;if(!t.length||!a.length)return null;var n=function(e,t){return[4,3,2,1].map(ta(e)).map(function(e){return aa(e,t)})}(a,t),o={datasets:[{label:"Praise",data:ea(n,$t(t,"praise")),backgroundColor:"#4AC985",borderWidth:1},{label:"Instruct",data:ea(n,$t(t,"instruct")),backgroundColor:"#6C9BD1",borderWidth:1},{label:"Correct",data:ea(n,$t(t,"correct")),backgroundColor:"#F79B1B",borderWidth:1}],labels:function(){for(var e=[],t=4;t>0;t--)e.push(Zt().subtract(t,"months").format("MMM"));return e}()};return r.a.createElement("div",null,r.a.createElement(fe.a,{data:o,options:{responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{suggestedMax:5}}]}}}))}}]),t}(n.Component),ra=Object(c.b)(function(e){return{quality_types:e.quality_types}})(na),oa=a(21),sa=function(e,t){return e.find(function(e){return e.name===t}).id},la=function(e,t){return Object.values(e).map(function(e){return e[t]})},ca=function(e){return function(t){var a=oa().subtract(t,"months").startOf("month"),n=oa().subtract(t,"months").endOf("month");return e.filter(function(e){var t=oa(e.date_created);return t>=a&&t<=n})}},ia=function(e,t){var a=t.reduce(function(e,t){return e[t.id]=0,e},{});return e.reduce(function(e,t){return e[t.id]+=1,e},Object(_.a)({},a))},ua=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"render",value:function(){var e=this.props,t=e.quality_types,a=e.data;if(!t.length||!a.length)return null;var n=function(e,t){oa();return[12,11,10,9,8,7,6,5,4,3,2,1].map(ca(e)).map(function(e){return ia(e,t)})}(a,t),o={datasets:[{label:"Praise",data:la(n,sa(t,"praise")),backgroundColor:"#4AC985"},{label:"Instruct",data:la(n,sa(t,"instruct")),backgroundColor:"#6C9BD1"},{label:"Correct",data:la(n,sa(t,"correct")),backgroundColor:"#F79B1B"}],labels:function(){for(var e=[],t=12;t>0;t--)e.push(oa().subtract(t,"months").format("MMM"));return e}()};return r.a.createElement("div",null,r.a.createElement(fe.a,{data:o,options:{scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{suggestedMax:5}}]}}}))}}]),t}(n.Component),pa=Object(c.b)(function(e){return{quality_types:e.quality_types}})(ua),da=a(252),ma=a.n(da),Ea=a(115),ha=a.n(Ea),fa=a(123),ba=a.n(fa),ya=a(74),_a=a.n(ya);function Oa(e){var t=e.children,a=e.dir;return r.a.createElement(H.B,{component:"div",dir:a,style:{padding:5}},t)}var va=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).handleChange=function(e,t){a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({value:e})},a.state={weeklyQualityCount:[],quarterlyQualityCount:[],annuallyQualityCount:[]},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER}),this.props.dispatch({type:C.FETCH_CURRENT_EMPLOYEE_FEEDBACK})}},{key:"render",value:function(){var e=this.props.theme;return r.a.createElement(H.l,{container:!0,spacing:0},r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(ha.a,{position:"static",color:"default"},r.a.createElement(ba.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",fullWidth:!0},r.a.createElement(_a.a,{label:"Weekly"}),r.a.createElement(_a.a,{label:"Quarterly"}),r.a.createElement(_a.a,{label:"Annually"}))),r.a.createElement(ma.a,{axis:"rtl"===e.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},r.a.createElement(Oa,{dir:e.direction},r.a.createElement(Xt,{data:this.props.feedback.currentEmployee})),r.a.createElement(Oa,{dir:e.direction},r.a.createElement(ra,{data:this.props.feedback.currentEmployee})),r.a.createElement(Oa,{dir:e.direction},r.a.createElement(pa,{data:this.props.feedback.currentEmployee})))))}}]),t}(n.Component),ga=Object(u.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}},{withTheme:!0})(Object(c.b)(function(e){return{user:e.user,feedback:e.feedback.feedback}})(va)),Ca=(a(5853),a(68)),ka=a.n(Ca),Sa=a(116),ja=a.n(Sa),wa=a(117),Aa=a.n(wa),Ra=a(118),Ta=a.n(Ra),Da={row:{display:"flex",justifyContent:"center"},grow:{flexGrow:1},tableCell:{textAlign:"center",padding:0},grid:{display:"flex",justifyContent:"center",alignItems:"center"},color:{color:"#f7fcff"},bigGrid:{margin:10,justifyContent:"center"}},Fa={asc:"desc",desc:"asc"},La=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).createNewFeedbackClick=function(e){a.props.history.push("/feedback/new")},a.handleSort=function(e){a.props.dispatch({type:"ADD_COLUMN_TO_SORT",payload:e});var t=a.props.sort.column===e?Fa[a.props.sort.direction]:"desc";a.props.dispatch({type:"ADD_SORT_DIRECTION",payload:t})},a.state={totalQualityCount:[]},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.getTotalFeedbackCount(),ut()(this.state.feedback,this.props.sort.column,this.props.sort.direction),this.props.dispatch({type:d.FETCH_USER}),this.props.dispatch({type:C.FETCH_CURRENT_EMPLOYEE_FEEDBACK,payload:{id:this.props.id}})}},{key:"getTotalFeedbackCount",value:function(){var e=this;$.a.get("/api/feedback/employeeFeedbackCount/".concat(this.props.id)).then(function(t){e.setState({totalQualityCount:t.data})}).catch(function(e){console.log("error in getTotalFeedbackCount",e),alert("Cannot get total client feedback counts!")})}},{key:"render",value:function(){var e=this,t=null;this.props.user.role===ae.SUPERVISOR?t=r.a.createElement("div",{className:"btnContainer"},r.a.createElement(ka.a,{variant:"fab",color:"secondary","aria-label":"Edit",style:Da.stickyButton,onClick:this.createNewFeedbackClick},r.a.createElement(xt.a,null,"edit_icon"))):this.props.user.role===ae.MANAGER&&(t=r.a.createElement("div",null));var a=ut()(this.props.feedback.currentEmployee,this.props.sort.column,this.props.sort.direction);return r.a.createElement("div",{className:"container"},r.a.createElement(H.l,{container:!0,spacing:0},r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement("div",{className:"outer"},r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{component:X.a,to:"/employees"},r.a.createElement(Xe.a,{style:Da.color})),r.a.createElement("h3",null,this.props.feedback.currentEmployee[0]?this.props.feedback.currentEmployee[0].first_name:null),r.a.createElement("div",{style:Da.grow}))),r.a.createElement("br",null),r.a.createElement(H.B,{variant:"headline",className:"center"},"Overall Summary:"),r.a.createElement(H.l,{style:Da.bigGrid,item:!0,xs:12},this.state.totalQualityCount.map(function(e,t){return r.a.createElement(Ht,{key:t,totalFeedback:e})})),t,r.a.createElement("br",null),r.a.createElement(H.l,{style:Da.bigGrid,item:!0,xs:12},r.a.createElement(ga,null)),r.a.createElement(H.B,{variant:"subheading",className:"center"},"Latest Feedbacks:"),r.a.createElement("div",null,r.a.createElement(ja.a,null,r.a.createElement(Ta.a,null,r.a.createElement(Ut.a,null,r.a.createElement(Lt.a,{style:Da.tableCell,onClick:function(){return e.handleSort("id")}},r.a.createElement(H.l,{style:Da.grid},"Category","id"===this.props.sort.column?"asc"===this.props.sort.direction?r.a.createElement(st.a,null):r.a.createElement(ct.a,null):null)),r.a.createElement(Lt.a,{style:Da.tableCell},r.a.createElement(H.l,{style:Da.grid},"Feedback")),r.a.createElement(Lt.a,{style:Da.tableCell,onClick:function(){return e.handleSort("date_created")}},r.a.createElement(H.l,{style:Da.grid},"Date Given","date_created"===this.props.sort.column?"asc"===this.props.sort.direction?r.a.createElement(st.a,null):r.a.createElement(ct.a,null):null)))),r.a.createElement(Aa.a,null,a.map(function(t,a){return r.a.createElement(qt,{key:a,feedback:t,history:e.props.history})}))))))))}}]),t}(n.Component),Ia=Object(u.withStyles)(Da)(Object(c.b)(function(e){return{user:e.user,feedback:e.feedback.feedback,id:e.id,sort:e.sort}})(La)),Ua=a(71),Na=a.n(Ua),xa=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.history.push("/employees"),a.props.dispatch({type:"ADD_NAV_VALUE",payload:"employees"})},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.handleClick},r.a.createElement(Xe.a,{style:{color:"#f7fcff"}})),r.a.createElement("h3",{style:{color:"#f7fcff"}},"New Feedback")))}}]),t}(r.a.Component),Pa=Object(ze.a)(Object(c.b)()(xa)),Ba={grid:{margin:15},form:{maxWidth:"350px",margin:"0 auto",padding:"20px",textAlign:"center"}},Ma="",Ya=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).getEmployees=function(){var e=a.props,t=e.user,n=e.dispatch;$.a.get("/api/staff/employees/".concat(t.id)).then(function(e){var t=e.data;n({type:O.SET_SUPERVISOR_EMPLOYEES,payload:t})}).catch(function(e){console.log("Supervisor Employee List get error",e),alert("Unable to GET supervisor employees")})},a.handleInputChange=function(e){return function(t){["taskRelated","cultureRelated","followUpNeeded"].includes(e)?a.setState(function(t){return Object(p.a)({},e,!t[e])}):a.setState(Object(p.a)({},e,t.target.value))}},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.employeeId,r=t.quality_id,o=t.taskRelated,s=t.cultureRelated,l=t.followUpNeeded,c=t.followUpDate,i=t.details,u=t.image_path,p=a.props.user.id,d=a.props.user.email_address,m=a.props.employees.find(function(e){return Number(e.id)===Number(n)}).incomplete,E={supervisorId:p,employeeId:n,dateCreated:new Date,quality_id:r,taskRelated:o,cultureRelated:s,details:i,email:d,image_path:u};a.props.dispatch({type:C.ADD_FEEDBACK,payload:E}),m?$.a.put("/api/followup/complete/".concat(n)).then(function(){l&&a.props.dispatch({type:w.ADD_FOLLOWUP,payload:{employeeId:n,followUpDate:c}})}).catch(function(e){console.log("/api/followup/complete/".concat(n," PUT error:"),e)}):l&&a.props.dispatch({type:w.ADD_FOLLOWUP,payload:{employeeId:n,followUpDate:c}})},a.openCloudinary=function(e){e.preventDefault(),window.cloudinary.openUploadWidget(a.config,function(e,t){t?(console.log(t.info.url),a.setState(Object(_.a)({},a.state,{image_path:t.info.url}))):e&&console.log("Error",e)}),a.props.dispatch({type:"ADD_IMAGE",payload:Ma})},a.backToDashboard=function(){a.props.history.push("/dashboard")},a.getQualityIdByName=function(e){return a.props.quality_types.find(function(t){return t.name===e}).id},a.state={employeeId:"",quality_id:null,taskRelated:!1,cultureRelated:!1,followUpNeeded:!1,followUpDate:"",details:"",image_path:""},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER}),this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES}),this.config={cloud_name:"dnjpvylxb",upload_preset:"ijxdygxf"}}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.user,a=e.employees,n=e.newPostedFeedback,r=e.newPostedFollowup,o=e.dispatch,s=e.history;t.isLoading||null!==t.userName?!t.isLoading&&t.userName&&t.role!==ae.SUPERVISOR?s.push("/dashboard"):!t.isLoading&&t.userName&&t.role===ae.SUPERVISOR&&(a.length||this.getEmployees()):s.push("/home"),n&&(this.state.followUpNeeded?r&&(o({type:C.DISPLAY_FEEDBACK_CONFIRMATION}),s.push("/feedback/confirmation")):(o({type:C.DISPLAY_FEEDBACK_CONFIRMATION}),s.push("/feedback/confirmation")))}},{key:"render",value:function(){var e,t,a,n=this.state,o=n.employeeId,s=n.quality_id,l=n.taskRelated,c=n.cultureRelated,i=n.details,u=n.followUpNeeded,p=n.followUpDate,d=this.props.employees;return this.props.quality_types.length&&(e=this.getQualityIdByName("praise"),t=this.getQualityIdByName("instruct"),a=this.getQualityIdByName("correct")),r.a.createElement(H.l,{container:!0,className:"padding-bottom",style:{marginTop:0}},r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(Pa,null),r.a.createElement("form",{style:Ba.form,onSubmit:this.handleFormSubmit},r.a.createElement(H.l,{item:!0,xs:12,style:{width:"100%"}},r.a.createElement(H.h,{style:{width:"75%",marginBottom:"20px"},required:!0},r.a.createElement(H.p,{shrink:!0,htmlFor:"employeeId"},"Employee"),r.a.createElement(H.q,{value:o,onChange:this.handleInputChange("employeeId"),input:r.a.createElement(H.n,{name:"employee",id:"employeeId"})},r.a.createElement("option",{value:"",disabled:!0},"Select an employee..."),d.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},"".concat(e.first_name," ").concat(e.last_name))})))),r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.h,{style:{marginBottom:"20px"},required:!0},r.a.createElement(H.k,null,"Feedback Quality"),r.a.createElement(H.s,{style:{display:"flex",flexDirection:"row"},"aria-label":"feedback-type",name:"quality_id",value:s,onChange:this.handleInputChange("quality_id")},e&&r.a.createElement(H.i,{key:e,value:e.toString(),label:"Praise",control:r.a.createElement(H.r,null)}),t&&r.a.createElement(H.i,{key:t,value:t.toString(),label:"Instruct",control:r.a.createElement(H.r,null)}),a&&r.a.createElement(H.i,{key:a,value:a.toString(),label:"Correct",control:r.a.createElement(H.r,null)})))),r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.h,{style:{marginBottom:"10px"}},r.a.createElement(H.k,null,"This feedback is:"),r.a.createElement(H.j,{style:{display:"flex",flexDirection:"row"}},r.a.createElement(H.i,{control:r.a.createElement(H.t,{checked:l,onChange:this.handleInputChange("taskRelated")}),label:"Task-Related"}),r.a.createElement(H.i,{control:r.a.createElement(H.t,{checked:c,onChange:this.handleInputChange("cultureRelated")}),label:"Culture-Related"})))),r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.z,{required:!0,style:{width:"75%",marginBottom:"20px"},type:"text",label:"Feedback Details",placeholder:"Add feedback details",value:i,onChange:this.handleInputChange("details"),multiline:!0,rows:"3"})),r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.h,null,r.a.createElement(H.i,{label:"Follow-Up Needed?",control:r.a.createElement(H.f,{checked:u,onChange:this.handleInputChange("followUpNeeded")})}))),u&&r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.h,{style:{marginBottom:"20px"}},r.a.createElement(H.z,{type:"date",label:"Follow-Up Date",InputLabelProps:{shrink:!0},value:p,onChange:this.handleInputChange("followUpDate")}))),r.a.createElement(H.l,{item:!0,xs:12,style:Ba.grid},r.a.createElement(H.h,null,r.a.createElement(H.e,{onClick:this.openCloudinary},r.a.createElement(Na.a,null),"\xa0Upload Image"))),r.a.createElement("div",null,r.a.createElement(H.e,{onClick:this.backToDashboard},"Cancel"),r.a.createElement(H.e,{type:"submit",color:"primary",variant:"contained"},"Submit")))))}}]),t}(r.a.Component),Ga=Object(c.b)(function(e){return{user:e.user,quality_types:e.quality_types,employees:e.people.staff.supervisorEmployees,newPostedFeedback:e.feedback.newPostedFeedback,newPostedFollowup:e.followup.newPostedFollowup}})(Ya),qa=a(73),Va=a.n(qa),Ha=a(41),Wa=a.n(Ha),Ka=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).getEmployees=function(){var e=a.props,t=e.user,n=e.dispatch;$.a.get("/api/staff/employees/".concat(t.id)).then(function(e){var t=e.data;n({type:O.SET_SUPERVISOR_EMPLOYEES,payload:t})}).catch(function(e){console.log("Supervisor Employee List get error",e),alert("Unable to GET supervisor employees")})},a.handleClick=function(){a.props.history.push("/dashboard")},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER}),this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.user,a=e.employees,n=e.history,r=e.newPostedFeedback;t.isLoading||null!==t.userName?!t.isLoading&&t.userName&&t.role!==ae.SUPERVISOR?n.push("/dashboard"):!t.isLoading&&t.userName&&t.role===ae.SUPERVISOR?a.length||this.getEmployees():r||n.push("/dashboard"):n.push("/home")}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:C.FEEDBACK_CONFIRMATION_ACKWNOLEDGED})}},{key:"render",value:function(){if(this.props.confirmationDisplayed){var e=this.props.newPostedFeedback,t=this.props.newPostedFollowup,a=this.props.employees.find(function(t){return Number(t.id)===Number(e.employee_id)});return r.a.createElement(Va.a,{container:!0,style:{padding:"10px"}},r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(Wa.a,{variant:"h4",className:"center",gutterBottom:!0},"Feedback Confirmed"),r.a.createElement(Wa.a,{variant:"h5",className:"center",gutterBottom:!0},"Employee"),r.a.createElement(Wa.a,{variant:"body1",className:"center",gutterBottom:!0},"".concat(a.first_name," ").concat(a.last_name)),r.a.createElement(Wa.a,{variant:"h5",className:"center",gutterBottom:!0},"Feedback"),r.a.createElement(Wa.a,{variant:"body1",className:"center",gutterBottom:!0},"Quality: ",this.props.quality_types.find(function(t){return t.id===e.quality_id}).name,r.a.createElement("br",null),e.task_related&&"Task-Related",e.task_related&&r.a.createElement("br",null),e.culture_related&&"Culture-Related",e.culture_related&&r.a.createElement("br",null)),r.a.createElement(Wa.a,{variant:"h5",className:"center",gutterBottom:!0},"Details"),r.a.createElement(Wa.a,{variant:"body1",className:"center",gutterBottom:!0},e.details),t&&r.a.createElement("div",null,r.a.createElement(Wa.a,{variant:"h6",className:"center",gutterBottom:!0},"Follow-up needed on"),r.a.createElement(Wa.a,null,he()(t.follow_up_date).format("dddd, MMMM Do YYYY")))),r.a.createElement(Va.a,{item:!0,xs:12},r.a.createElement(ka.a,{onClick:this.handleClick},"Okay")))}return this.props.history.push("/dashboard"),null}}]),t}(r.a.Component),Qa=Object(c.b)(function(e){return{user:e.user,quality_types:e.quality_types,employees:e.people.staff.supervisorEmployees,confirmationDisplayed:e.feedback.confirmationDisplayed,newPostedFeedback:e.feedback.newPostedFeedback,newPostedFollowup:e.followup.newPostedFollowup}})(Ka),za=a(253),Ja=a.n(za),Xa=["task_related","culture_related","follow_up_needed"],Za=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).getQualityName=function(e){return a.props.quality_types.find(function(t){return t.id===e}).name},a.handleInputChange=function(e){return function(t){Xa.includes(e)?a.setState({formFields:Object(_.a)({},a.state.formFields,Object(p.a)({},e,!a.state.formFields[e]))}):a.setState({formFields:Object(_.a)({},a.state.formFields,Object(p.a)({},e,String(t.target.value)))}),console.log(e,t.target.value)}},a.abandonChanges=function(){a.setState({formFields:Object(_.a)({},a.state.originalFeedback)})},a.handleFormSubmit=function(e){e.preventDefault();var t=Object(_.a)({},a.state.formFields,{date_edited:new Date});$.a.put("/api/feedback",t).then(function(e){t.follow_up_needed||(t.follow_up_date=""),a.setState({originalFeedback:Object(_.a)({},t),formFields:Object(_.a)({},t)})}).catch(function(e){console.log("/api/feedback PUT error:",e)})},a.backToPreviousPage=function(){a.props.history.push("/individualEmployee")},a.state={originalFeedback:null,formFields:null},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER}),this.props.quality_types.length||this.props.dispatch({type:F.FETCH_FEEDBACK_QUALITY_CATEGORIES})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,a=t.user,n=t.history;a.isLoading||null!==a.userName?!a.isLoading&&a.userName&&(this.state.originalFeedback||$.a.get("/api/feedback/detail/".concat(this.props.match.params.feedbackId)).then(function(t){var a=t.data;a.follow_up_date?(a.follow_up_date=he()(a.follow_up_date).format("YYYY-MM-DD"),a.follow_up_needed=!0):a.follow_up_date="",e.setState({originalFeedback:a,formFields:Object(_.a)({},a)})}).catch(function(t){console.log("/api/feedback/detail/".concat(e.props.match.params.feedbackId," GET request error:"),t)})):n.push("/home")}},{key:"render",value:function(){var e=this.state,t=e.originalFeedback,a=e.formFields,n=this.props.quality_types,o=null;if(!t||!n)return null;var s=he()(t.date_created).add(72,"hours");return o=he()().isBefore(s)?r.a.createElement("form",{onSubmit:this.handleFormSubmit,style:{marginTop:"20px"}},r.a.createElement(H.h,{required:!0},r.a.createElement(H.k,null,"Feedback Quality"),r.a.createElement(H.s,{"aria-label":"feedback-type",name:"quality_id",value:a.quality_id.toString(),onChange:this.handleInputChange("quality_id")},this.props.quality_types.map(function(e){return r.a.createElement(H.i,{key:e.id,value:e.id.toString(),label:e.name,control:r.a.createElement(H.r,null)})}))),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"This feedback is:"),r.a.createElement(H.j,null,r.a.createElement(H.i,{control:r.a.createElement(H.t,{checked:a.task_related,onChange:this.handleInputChange("task_related")}),label:"Task-Related"}),r.a.createElement(H.i,{control:r.a.createElement(H.t,{checked:a.culture_related,onChange:this.handleInputChange("culture_related")}),label:"Culture-Related"}))),r.a.createElement(H.h,null,r.a.createElement(H.i,{label:"Follow-Up Needed?",control:r.a.createElement(H.f,{checked:a.follow_up_needed,onChange:this.handleInputChange("follow_up_needed")})})),a.follow_up_needed&&r.a.createElement(H.h,null,r.a.createElement(H.z,{type:"date",label:"Follow-Up Date",InputLabelProps:{shrink:!0},value:a.follow_up_date,onChange:this.handleInputChange("follow_up_date")})),r.a.createElement(H.z,{required:!0,label:"Feedback Details",placeholder:"Add feedback details",value:a.details,onChange:this.handleInputChange("details"),multiline:!0}),!Ja.a.isEqual(t,a)&&r.a.createElement("div",null,r.a.createElement(H.e,{onClick:this.abandonChanges},"Cancel"),r.a.createElement(H.e,{type:"submit",color:"primary",variant:"contained"},"Save"))):r.a.createElement("div",null,r.a.createElement(H.B,{variant:"subtitle2",className:"center"},"Feedback Quality: ",n.length&&this.getQualityName(t.quality_id)," / ",t.task_related&&"Task-Related",t.culture_related&&"Culture-Related"),r.a.createElement(H.B,{variant:"subtitle2",className:"center"},"Details: ",t.details)),r.a.createElement(H.l,{container:!0,justify:"center"},r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.backToPreviousPage},r.a.createElement(Be.a,{style:{color:"#f7fcff"}})),r.a.createElement("h3",{style:{color:"#f7fcff"}},"Feedback Detail"))),r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement("div",{className:"padding-top"},r.a.createElement(H.B,{variant:"h4",className:"center"},"".concat(t.first_name," ").concat(t.last_name)),r.a.createElement(H.B,{variant:"subtitle2",className:"center"},"Feedback created on: ",he()(t.date_created).format("MM/DD/YY")),t.date_edited&&r.a.createElement("div",null,r.a.createElement(H.B,{variant:"subtitle2",className:"center"},"Last edited on: ",he()(t.date_edited).format("dddd, MMMM Do YYYY"))),o)))}}]),t}(r.a.Component),$a=Object(c.b)(function(e){return{user:e.user,quality_types:e.quality_types}})(Za),en=function(e){function t(){return Object(M.a)(this,t),Object(G.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement("div",null,"This is the form for adding a new employee."))}}]),t}(r.a.Component),tn=Object(c.b)(function(e){return{user:e.user}})(en),an=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){a.props.dispatch(f())},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e=null;return this.props.user.userName&&(e=r.a.createElement("div",null,r.a.createElement("h1",{id:"welcome"},"Welcome, ",this.props.user.userName,"!"),r.a.createElement("p",null,"Your ID is: ",this.props.user.id),r.a.createElement("button",{onClick:this.logout},"Log Out"))),r.a.createElement("div",null,r.a.createElement(me,null),e)}}]),t}(n.Component),nn=Object(c.b)(function(e){return{user:e.user}})(an),rn=(a(245),a(40)),on=a.n(rn),sn={grow:{flexGrow:1},input:{width:100},color:{color:"#f7fcff"}},ln=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){console.log("in handleClick"),a.props.history.push("/dashboard"),a.props.dispatch({type:"ADD_NAV_VALUE",payload:"dashboard"})},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.handleClick},r.a.createElement(Xe.a,{style:sn.color})),r.a.createElement("h3",null,"Edit Supervisor"),r.a.createElement("div",{style:sn.grow})))}}]),t}(r.a.Component),cn=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(ln)),un={formControl:{marginRight:20,padding:10,margin:5}},pn=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params;$.a.get("/api/staff/supervisor/profile?id=".concat(e.personId)).then(function(e){a.setState({supervisor:e.data[0]})}).catch(function(e){console.log("Error getting supervisor",e)})},a.editPerson=function(){$()({method:"PUT",url:"/api/staff/supervisor",data:a.state.supervisor}).then(function(e){on()("Success!","".concat(a.state.supervisor.first_name," ").concat(a.state.supervisor.last_name," edited"),"success"),a.props.dispatch({type:O.FETCH_SUPERVISORS}),a.props.history.push("/dashboard")}).catch(function(e){on()("Warning","Something went wrong editing ".concat(a.state.supervisor.first_name," ").concat(a.state.supervisor.last_name,". Please try again in a few minutes")),console.log("Cannot update supervisor",e)})},a.handleChangefor=function(e,t){a.setState({supervisor:Object(_.a)({},a.state.supervisor,Object(p.a)({},t,e.target.value))})},a.state={supervisor:{}},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"padding-bottom"},r.a.createElement(cn,null),r.a.createElement("div",{className:"edit-person-form"},r.a.createElement("h1",null,"Edit Supervisor"),r.a.createElement(H.h,{style:un.formControl},r.a.createElement(H.k,null,"First Name"),r.a.createElement(H.n,{label:"First Name",type:"text",value:this.state.supervisor.first_name,onChange:function(t){return e.handleChangefor(t,"first_name")}})),r.a.createElement(H.h,{style:un.formControl},r.a.createElement(H.k,null,"Last Name"),r.a.createElement(H.n,{type:"text",value:this.state.supervisor.last_name,onChange:function(t){return e.handleChangefor(t,"last_name")}})),r.a.createElement(H.h,{style:un.formControl},r.a.createElement(H.k,null,"Employee ID"),r.a.createElement(H.n,{type:"text",value:this.state.supervisor.employeeId,onChange:function(t){return e.handleChangefor(t,"employeeId")}})),r.a.createElement(H.h,{style:un.formControl},r.a.createElement(H.k,null,"Email Address"),r.a.createElement(H.n,{type:"text",value:this.state.supervisor.email_address,onChange:function(t){return e.handleChangefor(t,"email_address")}})),r.a.createElement(H.h,{style:un.formControl},r.a.createElement(H.k,null,"Username"),r.a.createElement(H.n,{type:"text",value:this.state.supervisor.username,onChange:function(t){return e.handleChangefor(t,"username")}})),r.a.createElement("br",null),r.a.createElement(H.h,{style:un.formControl},r.a.createElement(H.e,{variant:"contained",color:"primary",onClick:this.editPerson},"Save"),r.a.createElement(H.e,{onClick:function(){return e.props.history.push("/dashboard")}},"Cancel"))))}}]),t}(n.Component),dn=Object(c.b)()(pn),mn={grow:{flexGrow:1},input:{width:100},color:{color:"#f7fcff"}},En=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.history.push("/allEmployees"),a.props.dispatch({type:"ADD_NAV_VALUE",payload:"employees"})},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.handleClick},r.a.createElement(Xe.a,{style:mn.color})),r.a.createElement("h3",null,"Edit Employee"),r.a.createElement("div",{style:mn.grow})))}}]),t}(r.a.Component),hn=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(En)),fn={formControl:{marginRight:20,padding:10,margin:5}},bn=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).componentDidMount=function(){a.getEmployee()},a.editPerson=function(){console.log("editing person"),a.props.dispatch({type:"UPDATE_EMPLOYEE",payload:a.state.employee})},a.getEmployee=function(){var e=a.props.match.params;$.a.get("/api/staff/employee/profile?id=".concat(e.personId)).then(function(e){console.log(e.data[0]),a.setState({employee:e.data[0]}),a.props.dispatch({type:O.FETCH_SUPERVISORS})}).catch(function(e){console.log("Error getting employee",e)})},a.handleChangeFor=function(e,t){a.setState({employee:Object(_.a)({},a.state.employee,Object(p.a)({},e,t.target.value))})},a.handleCheck=function(){a.setState({inactive:!0})},a.state={employee:{first_name:"",last_name:"",employeeId:"",image_path:"",supervisor_id:""}},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"padding-bottom"},r.a.createElement(hn,null),r.a.createElement("div",{className:"edit-person-form"},r.a.createElement("h1",null,"Edit Employee"),r.a.createElement(H.h,{style:fn.formControl},r.a.createElement(H.z,{label:"First Name",value:this.state.employee.first_name,onChange:function(t){return e.handleChangeFor("first_name",t)}})),r.a.createElement("br",null),r.a.createElement(H.h,{style:fn.formControl},r.a.createElement(H.z,{label:"Last Name",value:this.state.employee.last_name,onChange:function(t){return e.handleChangeFor("last_name",t)}})),r.a.createElement("br",null),r.a.createElement(H.h,{style:fn.formControl},r.a.createElement(H.z,{label:"Employee ID",value:this.state.employee.employeeId,onChange:function(t){return e.handleChangeFor("employeeId",t)}})),r.a.createElement("br",null),r.a.createElement(H.h,{style:fn.formControl},r.a.createElement(H.z,{label:"Image Path",value:this.state.employee.image_path,onChange:function(t){return e.handleChangeFor("image_path",t)}})),r.a.createElement("br",null),r.a.createElement(H.h,{style:fn.formControl},r.a.createElement(H.k,null,"Reassign Supervisor"),r.a.createElement(H.q,{value:this.state.employee.supervisor_id,onChange:function(t){return e.handleChangeFor("supervisor_id",t)}},this.props.supervisors.map(function(e,t){return r.a.createElement("option",{key:t,value:e.supervisor_id},e.first_name," ",e.last_name)}))),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Remove?",r.a.createElement(H.f,{checked:this.state.employee.inactive,onChange:this.handleCheck,value:this.state.employee.inactive}))),r.a.createElement("br",null),r.a.createElement(H.e,{onClick:function(){return e.props.history.push("/dashboard")}},"Cancel"),r.a.createElement(H.e,{onClick:this.editPerson,variant:"contained",color:"primary"},"Save")))}}]),t}(n.Component),yn=Object(c.b)(function(e){return{user:e.user,supervisors:e.people.staff.supervisors}})(bn),_n=(a(5857),{grow:{flexGrow:1},input:{width:100},color:{color:"#f7fcff"}}),On=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){console.log("in handleClick"),a.props.history.push("/dashboard"),a.props.dispatch({type:"ADD_NAV_VALUE",payload:"dashboard"})},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.handleClick},r.a.createElement(Xe.a,{style:_n.color})),r.a.createElement("h3",null,"Add Staff"),r.a.createElement("div",{style:_n.grow})))}}]),t}(r.a.Component),vn=Object(ze.a)(Object(c.b)(function(e){return{user:e.user}})(On)),gn=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).createEmployee=function(){$()({method:"POST",url:"/api/staff/employee",data:a.state}).then(function(e){on()("".concat(a.state.first_name," ").concat(a.state.last_name," created!")),a.setState({username:"",password:"",employeeId:"",first_name:"",last_name:"",email_address:"",role_id:"",image_path:"",message:""}),a.props.dispatch({type:"FETCH_ALL_EMPLOYEES"})}).catch(function(e){console.log("Error creating employee",e),on()("Something went wrong. Please try again.")})},a.createSupervisor=function(e){e.preventDefault(),""!==a.state.username&&""!==a.state.password||a.setState({message:"Set a username and password!"}),$.a.post("/api/staff/register/supervisor",a.state).then(function(e){201===e.status?(alert("Supervisor registered!"),a.setState({username:"",password:"",employeeId:"",first_name:"",last_name:"",email_address:"",role_id:"",image_path:"",message:""}),on()("".concat(a.state.first_name," ").concat(a.state.last_name," created!")),a.props.dispatch({type:"FETCH_SUPERVISORS"})):a.setState({message:"Oops! That didn't work. The username might already be taken. Try again!"})}).catch(function(){a.setState({message:"Oops! Something went wrong! Is the server running?"})})},a.handleChangeFor=function(e,t){a.setState(Object(p.a)({},e,t.target.value))},a.openCloudinary=function(e){e.preventDefault(),window.cloudinary.openUploadWidget(a.config,function(e,t){t?(console.log(t.info.url),a.setState(Object(_.a)({},a.state,{image_path:t.info.url}))):e&&console.log("Error",e)})},a.state={username:"",password:"",employeeId:"",first_name:"",last_name:"",email_address:"",role_id:"",message:"",supervisor_id:"",image_path:""},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_SUPERVISORS"}),this.config={cloud_name:"dnjpvylxb",upload_preset:"ijxdygxf"}}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"add-person-view"},r.a.createElement(vn,null),r.a.createElement("div",{className:"add-staff-div"},r.a.createElement("br",null),r.a.createElement(H.k,{className:"label-spacing"},"Role:"),r.a.createElement(H.q,{value:this.state.role_id,onChange:function(t){return e.handleChangeFor("role_id",t)}},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"1"},"Supervisor"),r.a.createElement("option",{value:"employee"},"Employee"))),"1"===this.state.role_id&&r.a.createElement("div",{className:"add-person-form"},r.a.createElement(H.B,null,"Set up a supervisor's profile and create a username and password for them."),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"First Name"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("first_name",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Last Name"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("last_name",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Employee ID"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("employeeId",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Email"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("email_address",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Username"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("username",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Password"),r.a.createElement(H.n,{type:"password",onChange:function(t){return e.handleChangeFor("password",t)},required:!0})),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(H.e,{onClick:this.createSupervisor,variant:"contained",color:"primary"},"Submit"),r.a.createElement(H.e,{onClick:function(){return e.props.history.push("/dashboard")}},"Cancel")),"employee"===this.state.role_id&&r.a.createElement("div",{className:"add-person-form"},r.a.createElement(H.h,null,r.a.createElement(H.k,null,"First Name"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("first_name",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Last Name"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("last_name",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Employee ID"),r.a.createElement(H.n,{type:"text",onChange:function(t){return e.handleChangeFor("employeeId",t)},required:!0})),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.e,{onClick:this.openCloudinary},r.a.createElement(Na.a,null),"\xa0Upload Image")),r.a.createElement("br",null),r.a.createElement(H.h,null,r.a.createElement(H.k,null,"Assign Supervisor"),r.a.createElement(H.q,{onChange:function(t){return e.handleChangeFor("supervisor_id",t)},required:!0},r.a.createElement("option",{value:""},"Select One"),this.props.supervisor.map(function(e,t){return r.a.createElement("option",{value:e.supervisor_id},e.first_name," ",e.last_name)}))),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(H.e,{onClick:this.createEmployee,variant:"contained",color:"primary"},"Submit"),r.a.createElement(H.e,{onClick:function(){return e.props.history.push("/dashboard")}},"Cancel")))}}]),t}(n.Component),Cn=Object(c.b)(function(e){return{supervisor:e.people.staff.supervisors,user:e.user}})(gn),kn=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(G.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.history.push("/dashboard")},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{position:"sticky"},r.a.createElement(H.A,null,r.a.createElement(H.m,{onClick:this.handleClick},r.a.createElement(Xe.a,{style:{color:"#f7fcff"}})),r.a.createElement("h3",{style:{color:"#f7fcff"}},"Supervisor Detail")))}}]),t}(r.a.Component),Sn=Object(ze.a)(Object(c.b)()(kn)),jn=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).getSupervisorInformation=function(e){$.a.get("/api/staff/supervisor/profile?id=".concat(e)).then(function(e){console.log("got supervisor profile"),a.setState({supervisor:e.data[0]})}).catch(function(t){console.log("/api/staff/supervisor/profile?id=".concat(e," GET request error:"),t)})},a.getSupervisorFeedback=function(e){$.a.get("/api/feedback/supervisor/".concat(e)).then(function(e){a.setState({feedbackHistory:e.data})}).catch(function(t){console.log("/api/feedback/supervisor/".concat(e," GET request error:"),t)})},a.state={supervisor:{},feedbackHistory:[]},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:d.FETCH_USER})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.user,a=e.history;t.isLoading||null!==t.userName?!t.isLoading&&t.userName&&t.role!==ae.MANAGER?a.push("/dashboard"):!t.isLoading&&t.userName&&(Object.keys(this.state.supervisor).length||this.getSupervisorInformation(this.props.match.params.personId),this.state.feedbackHistory.length||this.getSupervisorFeedback(this.props.match.params.personId)):a.push("/home")}},{key:"render",value:function(){var e=this.state,t=e.supervisor,a=e.feedbackHistory;return r.a.createElement("div",null,r.a.createElement(Sn,null),r.a.createElement(H.l,{container:!0,spacing:0},r.a.createElement(H.l,{item:!0,xs:12},r.a.createElement(H.B,{variant:"display1",className:"center"},t.first_name&&"".concat(t.first_name," ").concat(t.last_name))),r.a.createElement(H.l,{item:!0,xs:12,md:6},r.a.createElement(H.B,{variant:"subheading",className:"center"},"Feedback given in the past quarter"),r.a.createElement(we,{data:a})),r.a.createElement(H.l,{item:!0,xs:12,md:6},r.a.createElement(H.B,{variant:"subheading",className:"center"},"Feedback given in the past three weeks"),r.a.createElement(De,{data:a})),r.a.createElement(H.l,{item:!0,xs:12,md:6},r.a.createElement(H.B,{variant:"subheading",className:"center"},"Feedback given in the past twelve months"),r.a.createElement(_e,{data:a}))))}}]),t}(r.a.Component),wn=Object(c.b)(function(e){return{user:e.user,feedbackHistory:e.feedback.feedback.allFeedbackBySupervisor}})(jn),An=(a(247),function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).handleChange=function(e){a.setState({email:e.target.value})},a.handleSubmit=function(){var e=Date.now();e=he()(e).format(),$()({method:"PUT",url:"/api/user/createtoken",data:{email:a.state.email,today:e}}).then(function(e){on()("Please check your e-mail (including your spam folder) for a link to reset your password."),a.props.history.push("/home")}).catch(function(e){console.log(e),on()("Something went wrong")})},a.state={email:""},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"reset-form"},r.a.createElement(H.B,{variant:"headline",className:"margin-bottom"},"Reset Password"),r.a.createElement(H.B,null,"Enter the email address associated with this account."),r.a.createElement(H.n,{onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(H.e,{variant:"contained",color:"primary",onClick:this.handleSubmit},"Submit"),r.a.createElement(H.e,{onClick:function(){return e.props.history.push("/home")}},"Cancel")))}}]),t}(n.Component)),Rn=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(G.a)(this,Object(q.a)(t).call(this,e))).handleChange=function(e,t){var n,r=new Date;a.setState((n={},Object(p.a)(n,e,t.target.value),Object(p.a)(n,"today",r),n))},a.handleSubmit=function(){a.state.password===a.state.confirm_password?$()({method:"PUT",url:"/api/user/resetpassword",data:a.state}).then(function(e){on()("Update successful! Please login with your new password."),a.props.history.push("/home")}).catch(function(e){console.log(e),on()("Something went wrong")}):on()("Passwords do not match! Please try again.")},a.state={email_address:"",password:"",confirm_password:"",today:"",token:a.props.match.params.token},a}return Object(V.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"reset-form"},r.a.createElement(H.B,{variant:"headline"},"Create New Password"),r.a.createElement(H.k,null,"Email address:",r.a.createElement(H.n,{onChange:function(t){return e.handleChange("email_address",t)}}),r.a.createElement("br",null)),r.a.createElement(H.k,null,"New password:",r.a.createElement(H.n,{type:"password",onChange:function(t){return e.handleChange("password",t)}}),r.a.createElement("br",null)),r.a.createElement(H.k,null,"Confirm password:",r.a.createElement(H.n,{type:"password",onChange:function(t){return e.handleChange("confirm_password",t)}}),r.a.createElement("br",null)),r.a.createElement(H.e,{onClick:this.handleSubmit},"Submit"))}}]),t}(n.Component),Tn=(a(5860),function(){return r.a.createElement(K,null,r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(P.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(B.a,{path:"/home",component:J}),r.a.createElement(B.a,{path:"/register",component:te}),r.a.createElement(B.a,{path:"/dashboard",component:Qe}),r.a.createElement(B.a,{path:"/employees",component:Dt}),r.a.createElement(B.a,{path:"/allEmployees",component:bt}),r.a.createElement(B.a,{path:"/individualEmployee",component:Ia}),r.a.createElement(B.a,{path:"/feedback/new",component:Ga}),r.a.createElement(B.a,{path:"/feedback/confirmation",component:Qa}),r.a.createElement(B.a,{path:"/feedback/detail/:feedbackId",component:$a}),r.a.createElement(B.a,{path:"/employee/new",component:tn}),r.a.createElement(B.a,{path:"/user",component:nn}),r.a.createElement(B.a,{path:"/addperson",component:Cn}),r.a.createElement(B.a,{exact:!0,path:"/reset/password",component:An}),r.a.createElement(B.a,{path:"/view/supervisor/:personId",component:wn}),r.a.createElement(B.a,{path:"/edit/supervisor/:personId",component:dn}),r.a.createElement(B.a,{path:"/edit/employee/:personId",component:yn}),r.a.createElement(B.a,{exact:!0,path:"/reset/password/:token",component:Rn}),r.a.createElement(B.a,{render:function(){return r.a.createElement("h1",null,"404")}}))))}),Dn=a(13),Fn=a.n(Dn),Ln=a(10);var In=Fn.a.mark(Nn),Un=Fn.a.mark(xn);function Nn(){var e;return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.c)({type:d.REQUEST_START});case 3:return t.next=5,$.a.get("api/user",{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e});case 5:return e=t.sent,t.next=8,Object(Ln.c)({type:d.SET_USER,user:e});case 8:return t.next=10,Object(Ln.c)({type:d.REQUEST_DONE});case 10:t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,Object(Ln.c)({type:d.REQUEST_DONE});case 16:return t.next=18,Object(Ln.c)({type:d.USER_FETCH_FAILED,message:t.t0.data||"FORBIDDEN"});case 18:case"end":return t.stop()}},In,this,[[0,12]])}function xn(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.d)(d.FETCH_USER,Nn);case 2:case"end":return e.stop()}},Un,this)}var Pn=xn;function Bn(e){var t={username:e.username,password:e.password};return $.a.post("api/user/login",t,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e})}var Mn=Fn.a.mark(qn),Yn=Fn.a.mark(Vn),Gn=Fn.a.mark(Hn);function qn(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.c)({type:E.CLEAR_LOGIN_ERROR});case 3:return t.next=5,Object(Ln.c)({type:E.REQUEST_START});case 5:return t.next=7,Bn(e.payload);case 7:return t.next=9,Object(Ln.c)({type:E.LOGIN_REQUEST_DONE});case 9:return t.next=11,Object(Ln.c)({type:d.FETCH_USER});case 11:t.next=24;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(Ln.c)({type:E.LOGIN_REQUEST_DONE});case 17:if(401!==t.t0.status){t.next=22;break}return t.next=20,Object(Ln.c)({type:E.LOGIN_FAILED,message:t.t0.message});case 20:t.next=24;break;case 22:return t.next=24,Object(Ln.c)({type:E.LOGIN_FAILED_NO_CODE,message:t.t0.message});case 24:case"end":return t.stop()}},Mn,this,[[0,13]])}function Vn(e){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.get("api/user/logout",{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e});case 3:return e.next=5,Object(Ln.c)({type:d.UNSET_USER});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("LOGOUT FAILED -- CHECK YOUR SERVER",e.t0);case 10:case"end":return e.stop()}},Yn,this,[[0,7]])}function Hn(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.d)(E.LOGIN,qn);case 2:return e.next=4,Object(Ln.d)(E.LOGOUT,Vn);case 4:case"end":return e.stop()}},Gn,this)}var Wn=Hn,Kn=Fn.a.mark(Zn),Qn=Fn.a.mark($n),zn=Fn.a.mark(er),Jn=Fn.a.mark(tr),Xn=Fn.a.mark(ar);function Zn(){var e,t;return Fn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ln.b)($.a.get,"/api/staff/allEmployees");case 3:return e=a.sent,t={type:O.SET_ALL_EMPLOYEES,payload:e.data},a.next=7,Object(Ln.c)(t);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("Cannot get all employees",a.t0);case 12:case"end":return a.stop()}},Kn,this,[[0,9]])}function $n(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.post,"/api/staff/employee",e.payload);case 3:return t.next=5,Object(Ln.c)(on()("".concat(e.payload.first_name," ").concat(e.payload.last_name," created!")));case 5:return t.next=7,Object(Ln.c)({type:O.FETCH_ALL_EMPLOYEES});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Cannot add new employee",t.t0);case 12:case"end":return t.stop()}},Qn,this,[[0,9]])}function er(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.delete,"/api/staff/employee?id=".concat(e.payload));case 3:return t.next=5,Object(Ln.c)({type:O.FETCH_ALL_EMPLOYEES});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Cannot delete employee",t.t0);case 10:case"end":return t.stop()}},zn,this,[[0,7]])}function tr(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.put,"/api/staff/employee",e.payload);case 3:return t.next=5,Object(Ln.c)({type:O.FETCH_ALL_EMPLOYEES});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Cannot update employee",t.t0);case 10:case"end":return t.stop()}},Jn,this,[[0,7]])}function ar(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.d)(O.FETCH_ALL_EMPLOYEES,Zn);case 2:return e.next=4,Object(Ln.d)(O.ADD_EMPLOYEE,$n);case 4:return e.next=6,Object(Ln.d)(O.DELETE_EMPLOYEE,er);case 6:return e.next=8,Object(Ln.d)(O.UPDATE_EMPLOYEE,tr);case 8:case"end":return e.stop()}},Xn,this)}var nr=ar,rr=Fn.a.mark(ir),or=Fn.a.mark(ur),sr=Fn.a.mark(pr),lr=Fn.a.mark(dr),cr=Fn.a.mark(mr);function ir(){var e,t;return Fn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ln.b)($.a.get,"/api/staff/supervisors");case 3:return e=a.sent,t={type:O.SET_SUPERVISORS,payload:e.data},a.next=7,Object(Ln.c)(t);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("Cannot get supervisors",a.t0);case 12:case"end":return a.stop()}},rr,this,[[0,9]])}function ur(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.post,"/api/staff/supervisor",e.payload);case 3:return t.next=5,Object(Ln.c)({type:O.FETCH_SUPERVISORS});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Cannot add new supervisor",t.t0);case 10:case"end":return t.stop()}},or,this,[[0,7]])}function pr(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.put,"/api/staff/supervisor",e.payload);case 3:return t.next=5,Object(Ln.c)({type:O.FETCH_SUPERVISORS});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Cannot update supervisor",t.t0);case 10:case"end":return t.stop()}},sr,this,[[0,7]])}function dr(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.delete,"/api/staff/supervisor?id=".concat(e.payload));case 3:return t.next=5,Object(Ln.c)({type:O.FETCH_SUPERVISORS});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Cannot delete supervisor",t.t0);case 10:case"end":return t.stop()}},lr,this,[[0,7]])}function mr(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.d)(O.FETCH_SUPERVISORS,ir);case 2:return e.next=4,Object(Ln.d)(O.ADD_SUPERVISOR,ur);case 4:return e.next=6,Object(Ln.d)(O.UPDATE_SUPERVISOR,pr);case 6:return e.next=8,Object(Ln.d)(O.DELETE_SUPERVISOR,dr);case 8:case"end":return e.stop()}},cr,this)}var Er=mr,hr=Fn.a.mark(vr),fr=Fn.a.mark(gr),br=Fn.a.mark(Cr),yr=Fn.a.mark(kr),_r=Fn.a.mark(Sr),Or=Fn.a.mark(jr);function vr(e){var t,a;return Fn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ln.b)($.a.get,"/api/feedback/employee/".concat(e.payload.id));case 3:return t=n.sent,console.log("in fetchCurrentEmployeeFeedback"),a={type:C.SET_CURRENT_EMPLOYEE_FEEDBACK,payload:t.data},n.next=8,Object(Ln.c)(a);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("Cannot get employee feedback",n.t0);case 13:case"end":return n.stop()}},hr,this,[[0,10]])}function gr(){var e,t;return Fn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ln.b)($.a.get,"/api/feedback/");case 3:return e=a.sent,t={type:C.SET_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR,payload:e.data},a.next=7,Object(Ln.c)(t);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("Cannot get all feedback that manager has given",a.t0);case 12:case"end":return a.stop()}},fr,this,[[0,9]])}function Cr(){var e,t;return Fn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ln.b)($.a.get,"/api/feedback/supervisors/all");case 3:return e=a.sent,t={type:C.SET_ALL_FEEDBACK_BY_MANAGER_SUPERVISORS,payload:e.data},a.next=7,Object(Ln.c)(t);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("Cannot get all feedback for all managers",a.t0);case 12:case"end":return a.stop()}},br,this,[[0,9]])}function kr(e){var t,a;return Fn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("addFeedback saga called:",e),n.prev=1,n.next=4,Object(Ln.b)($.a.post,"/api/feedback/",e.payload);case 4:return t=n.sent,a=t.data,console.log("just posted feedback:",a),n.next=9,Object(Ln.c)({type:C.FEEDBACK_POST_SUCCESS,payload:a});case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("Cannot add new feedback",n.t0);case 14:case"end":return n.stop()}},yr,this,[[1,11]])}function Sr(e){return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.put,"/api/feedback/",e.payload);case 3:return t.next=5,Object(Ln.c)({type:C.FETCH_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Cannot edit feedback",t.t0);case 10:case"end":return t.stop()}},_r,this,[[0,7]])}function jr(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.d)(C.FETCH_CURRENT_EMPLOYEE_FEEDBACK,vr);case 2:return e.next=4,Object(Ln.d)(C.FETCH_ALL_FEEDBACK_BY_CURRENT_SUPERVISOR,gr);case 4:return e.next=6,Object(Ln.d)(C.FETCH_ALL_FEEDBACK_BY_MANAGER_SUPERVISORS,Cr);case 6:return e.next=8,Object(Ln.d)(C.ADD_FEEDBACK,kr);case 8:return e.next=10,Object(Ln.d)(C.UPDATE_FEEDBACK,Sr);case 10:case"end":return e.stop()}},Or,this)}var wr=jr,Ar=Fn.a.mark(Lr),Rr=Fn.a.mark(Ir),Tr=Fn.a.mark(Ur),Dr=Fn.a.mark(Nr),Fr=Fn.a.mark(xr);function Lr(){var e;return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.get,"/api/followup/pending/all");case 3:return e=t.sent,t.next=6,Object(Ln.c)({type:w.SET_ALL_PENDING_FOLLOWUP,payload:e.data});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("fetchAllSupervisorPendingFollowups error:",t.t0);case 11:case"end":return t.stop()}},Ar,this,[[0,8]])}function Ir(e){var t,a;return Fn.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload,n.next=4,Object(Ln.b)($.a.get,"/api/followup/pending/employee/".concat(t));case 4:return a=n.sent,n.next=7,Object(Ln.c)({type:w.SET_EMPLOYEE_PENDING_FOLLOWUP,payload:a.data});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("fetchEmployeePendingFollowup error:",n.t0);case 12:case"end":return n.stop()}},Rr,this,[[0,9]])}function Ur(e){var t,a,n;return Fn.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("addFollowup saga:",e),t=e.payload,r.next=5,Object(Ln.b)($.a.post,"/api/followup",t);case 5:return a=r.sent,n=a.data,r.next=9,Object(Ln.c)({type:w.FOLLOWUP_POST_SUCCESS,payload:n});case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.log("addFollowup error:",r.t0);case 14:case"end":return r.stop()}},Tr,this,[[0,11]])}function Nr(e){var t;return Fn.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,Object(Ln.b)($.a.put,"/api/followup/".concat(t,"/complete"));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log("completeFollowup error:",a.t0);case 9:case"end":return a.stop()}},Dr,this,[[0,6]])}function xr(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.d)(w.FETCH_ALL_PENDING_FOLLOWUP,Lr);case 2:return e.next=4,Object(Ln.d)(w.FETCH_EMPLOYEE_PENDING_FOLLOWUP,Ir);case 4:return e.next=6,Object(Ln.d)(w.ADD_FOLLOWUP,Ur);case 6:return e.next=8,Object(Ln.d)(w.COMPLETE_FOLLOWUP,Nr);case 8:case"end":return e.stop()}},Fr,this)}var Pr=xr,Br=Fn.a.mark(Yr),Mr=Fn.a.mark(Gr);function Yr(){var e;return Fn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ln.b)($.a.get,"/api/quality");case 3:return e=t.sent,t.next=6,Object(Ln.c)({type:F.SET_FEEDBACK_QUALITY_CATEGORIES,payload:e.data});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Cannot get feedback qualities:",t.t0);case 11:case"end":return t.stop()}},Br,this,[[0,8]])}function Gr(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.d)(F.FETCH_FEEDBACK_QUALITY_CATEGORIES,Yr);case 2:case"end":return e.stop()}},Mr,this)}var qr=Gr,Vr=Fn.a.mark(Hr);function Hr(){return Fn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ln.a)([Pn(),Wn(),nr(),Er(),wr(),Pr(),qr()]);case 2:case"end":return e.stop()}},Vr,this)}var Wr=[],Kr=Object(i.a)();Wr.push(Kr);var Qr=Object(l.d)(U,{},l.a.apply(void 0,Wr)),zr=Object(u.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#6c7cff",main:"#0050ff",dark:"#0028ca",contrastText:"#f7fcff"},secondary:{light:"#a3ff7b",main:"#6bf048",dark:"#28bc00",constrastText:"#1f2325"}}});Kr.run(Hr),s.a.render(r.a.createElement(c.a,{store:Qr},r.a.createElement(u.MuiThemeProvider,{theme:zr},r.a.createElement(Tn,null))),document.getElementById("react-root"))}},[[5521,2,1]]]);
//# sourceMappingURL=main.18e5c953.chunk.js.map